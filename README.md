## divert

<!-- This file was generated by Ansigenome. Do not edit this file directly but
     instead have a look at the files in the ./meta/ directory. -->

[![Travis CI](https://img.shields.io/travis/ypid/ansible-divert.svg?style=flat)](https://travis-ci.org/ypid/ansible-divert)
[![Ansible Galaxy](https://img.shields.io/badge/galaxy-ypid.divert-660198.svg?style=flat)](https://galaxy.ansible.com/ypid/divert)
[![Platforms](https://img.shields.io/badge/platforms-debian%20/%20ubuntu-lightgrey.svg?style=flat)](#)
[![GitHub Tags](https://img.shields.io/github/tag/ypid/ansible-divert.svg)](https://github.com/ypid/ansible-divert)
[![GitHub Stars](https://img.shields.io/github/stars/ypid/ansible-divert.svg)](https://github.com/ypid/ansible-divert)

Simple role for package management aware renaming of files.

Allows to move files which were installed by a package and to inform the package manager about the change so that it can do the right thing when the moved file is later installed again by a package upgrade. The right thing in this context is to map all new versions to the diverted location and to avoid touching the original file.

This role is intended to work with all package managers which can be informed about such changes.

### Currently supported package managers

* [dpkg](https://en.wikipedia.org/wiki/Dpkg)

### Installation

This role requires at least Ansible `v2.1.4`. To install it, run:

```Shell
ansible-galaxy install ypid.divert
```

To install via git, run either:

```Shell
git clone https://github.com/ypid/ansible-divert.git ypid.divert
git submodule add https://github.com/ypid/ansible-divert.git ypid.divert
```

### Role variables

List of default variables available in the inventory:

```YAML
---
# Default variables
# =================

# .. contents:: Sections
#    :local:
#
# ------------------------------------
#   File lists to divert
# ------------------------------------

# .. envvar:: divert__files
#
# "Global" list of files to divert.
# Examples:
#
# .. code: YAML
#
#    divert__files:
#      - original: '/usr/bin/man'
#        diverted: '/usr/local/bin/rtfm'
#
divert__files: []


# .. envvar:: divert__group_files
#
# "Host group" list of files to divert.
divert__group_files: []


# .. envvar:: divert__host_files
#
# "Host" list of files to divert.
divert__host_files: []


# .. envvar:: divert__file_suffix
#
# Default file suffix to use when ``item.diverted`` has not been specified.
divert__file_suffix: '.dpkg-orig'
```

List of internal variables used by the role:

    divert__files_combined

### Authors and license

`divert` role was written by:

- [Robin Schneider](https://docs.debops.org/en/latest/debops-keyring/docs/entities.html#debops-keyring-entity-ypid) | [e-mail](mailto:ypid@riseup.net) | [GitHub](https://github.com/ypid)

License: [AGPLv3](https://tldrlegal.com/license/gnu-affero-general-public-license-v3-%28agpl-3.0%29)

***

README generated by [Ansigenome](https://github.com/nickjj/ansigenome/).
